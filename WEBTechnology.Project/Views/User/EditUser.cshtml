@using WEBTechnology.BLL.ViewModels.Role
@model WEBTechnology.BLL.ViewModels.User.UserEditViewModel
@{
	ViewData["Title"] = "Edit account";
}

<div class="container-page">
    <h2 class="title-margin">Редактирование пользователя</h2>
    <form method="post" asp-controller="User" asp-action="EditUser"> <div asp-validation-summary="All" class="text-danger"></div>
        <div style="margin-bottom: 5px">
            <table>
                <label>Роли</label>
                @if (Model is not null)
                {
                    @for (int i = 0; i < Model?.Roles?.Count; i++)
                    {
                        if(i % 3 == 0)
                        {
                            @:<tr></tr>
                        }
	                    <td>
		                    @Html.CheckBoxFor(model => model.Roles[i].IsSelected)
		                    <lable class="tag-margin">@Model.Roles[i].Name</lable>
		                    @Html.HiddenFor(model => model.Roles[i].Id)
	                    </td>
                    }
                }
            </table>
        <div style="margin-bottom: 5px">
            <label asp-for="Name"></label><br />
            <input class="form-control" asp-for="Name" />
            <span asp-validation-for="Name" class="text-danger"></span>
            <input class="form-control" asp-for="Id" hidden/>
        </div>
        <div style="margin-bottom: 5px">
            <label asp-for="Age"></label><br />
            <input class="form-control" asp-for="Age" />
            <span asp-validation-for="Age" class="text-danger"></span>
            <input class="form-control" asp-for="Id" hidden/>
        </div>
        <div style="margin-bottom: 5px">
            <label asp-for="Email"></label><br />
            <input class="form-control" asp-for="Email" />
            <span asp-validation-for="Email" class="text-danger"></span>
            <input class="form-control" asp-for="Id" hidden/>
        </div>
	        <div>
		        <input class="btn btn-sm btn-primary" type="submit" value="Сохранить"/>
	        </div>
	        <p>
		        <a method="get" asp-controller="User" asp-action="GetUsers">Выйти без сохранения</a>
	        </p>
        </div>
    </form>
</div>